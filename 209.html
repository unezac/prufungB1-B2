<html lang="de"><head>
<meta charset="utf-8"/>
<title>Herr Meyerhofer</title>
<style>
    body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  background-color: #e9eaec;
  display: flex;
  flex-direction: column;
  align-items: center;
}

    .container {
      display: flex;
      max-width: 1400px;
      width: 100%;
      background-color: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .letter {
      flex: 2;
      padding: 30px;
      font-size: 16px;
      line-height: 1.6;
    }

    .blank {
      background-color: #3f6ccf;
      color: white;
      padding: 2px 10px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      min-width: 24px;
      text-align: center;
      display: inline-block;
    }

    .choices {
  flex: 1.5;
  background-color: #f2f3f7;
  padding: 30px 20px;
  overflow-y: auto;
  max-height: 60vh; /* Adjust height as needed */
}

    .question-block {
      margin-bottom: 20px;
    }

    .row-container {
      background-color: #e0e4f3;
      padding: 10px;
      border-radius: 10px;
      margin-top: 6px;
    }

    .options {
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    .option {
      background-color: white;
      padding: 6px 14px;
      font-size: 14px;
      border-radius: 18px;
      border: 2px solid #ccc;
      cursor: pointer;
      transition: 0.2s ease;
      user-select: none;
      text-align: center;
      flex: 1;
    }

    .option:hover {
      background-color: #e6ebf9;
    }

    .option.selected {
      background-color: #d0defc;
      border-color: #3f6ccf;
      font-weight: bold;
    }

    .option.correct {
      background-color: #c8f7c5;
      border-color: #34a853;
    }

    .option.incorrect {
      background-color: #fbd5d5;
      border-color: #e53935;
    }

    input[type="radio"] {
      display: none;
    }

    .button-wrapper {
  max-width: 1400px;
  margin: 30px auto 60px; /* Space above and below */
  display: flex;
  justify-content: center;
  gap: 20px;
}


#checkBtn,
#homeBtn {
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  min-width: 200px;
  text-align: center;
  cursor: pointer;
  text-decoration: none;
  font-weight: bold;
}

/* Primary button style */
#checkBtn {
  background-color: #3f6ccf;
  color: white;
}

#checkBtn:hover {
  background-color: #2f56b3;
}

/* Secondary button style */
#homeBtn {
  background-color: #6c7a89;
  color: white;
  display: inline-block;
  line-height: 1.6;
}

#homeBtn:hover {
  background-color: #5a6268;
}

#resetBtn {
  background-color: #6c7a89;
  color: white;
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  min-width: 200px;
  text-align: center;
  cursor: pointer;
  font-weight: bold;
}

#resetBtn:hover {
  background-color: #5a6268;
}

  </style>
</head>
<body>
<div class="container">
<div class="letter">
<p>Sehr geehrter Herr Meyerhofer, </p>
<p>
        wie Sie wissen , miete ich nun schon seit drei Jahren eine Wohnung in <span class="blank" id="blank1">1</span> Haus. Ich <span class="blank" id="blank2">2</span> die ganze Zeit sehr zufrieden, denn im Haus war es immer ruhig, sauber und sicher. In der Zwischenzeit <span class="blank" id="blank3">3</span> sich die Wohnqualität durch die Eröffnung des Restaurants im Erdgeschoss aber deutlich verschlechtert.<span class="blank" id="blank4">4</span> spät abends höre ich nun täglich <span class="blank" id="blank5">5</span> Lärm der Restaurantsgäste im Garten, die Mülleimer im Hof sind immer überfüllt, die Parkplätze vor dem Haus, <span class="blank" id="blank6">6</span> eigentlich für die Mieter reserviert sind, sind immer besetzt, und das Treppenhaus ist ständig verschmutzt. Außerdem fühle ich mich <span class="blank" id="blank7">7</span> Haus nicht mehr sicher, weil das Restaurant oft die ganze Nacht <span class="blank" id="blank8">8</span> hat. Ich möchte Sie dringend bitten, such um diese <span class="blank" id="blank9">9</span> zu kümmern und mit den Restaurantbesitzern zu sprechen. 
        Vielleicht könnte <span class="blank" id="blank10">10</span> gemeinsam eine Lösung finden.
    </p>
<p>Mit freundlichen Grüßen</p>
<p>Ihre Anneliese Kühne</p>
</div>
<div class="choices">
<!-- Repeat for all 10 questions -->
<!-- Here's how one looks. Copy/paste for others -->
<div class="question-block" data-blank="1">
<div><strong>1.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q1" type="radio" value="Ihr"/>Ihr</label>
<label class="option"><input name="q1" type="radio" value="Ihrem"/>Ihrem</label>
<label class="option"><input name="q1" type="radio" value="Ihren"/>Ihren</label>
</div>
</div>
</div>
<div class="question-block" data-blank="2">
<div><strong>2.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q2" type="radio" value="war"/>war</label>
<label class="option"><input name="q2" type="radio" value="wäre"/>wäre</label>
<label class="option"><input name="q2" type="radio" value="würde"/>würde</label>
</div>
</div>
</div>
<div class="question-block" data-blank="3">
<div><strong>3.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q3" type="radio" value="hat"/>hat</label>
<label class="option"><input name="q3" type="radio" value="ist"/>ist</label>
<label class="option"><input name="q3" type="radio" value="wurde"/>wurde</label>
</div>
</div>
</div>
<div class="question-block" data-blank="4">
<div><strong>4.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q4" type="radio" value="Bis"/>Bis</label>
<label class="option"><input name="q4" type="radio" value="Nach"/>Nach</label>
<label class="option"><input name="q4" type="radio" value="Von"/>Von</label>
</div>
</div>
</div>
<div class="question-block" data-blank="5">
<div><strong>5.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q5" type="radio" value="dem"/>dem</label>
<label class="option"><input name="q5" type="radio" value="den"/>den</label>
<label class="option"><input name="q5" type="radio" value="der"/>der</label>
</div>
</div>
</div>
<div class="question-block" data-blank="6">
<div><strong>6.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q6" type="radio" value="denen"/>denen</label>
<label class="option"><input name="q6" type="radio" value="die"/>die</label>
<label class="option"><input name="q6" type="radio" value="diese"/>diese</label>
</div>
</div>
</div>
<div class="question-block" data-blank="7">
<div><strong>7.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q7" type="radio" value="im"/>im</label>
<label class="option"><input name="q7" type="radio" value="in"/>in</label>
<label class="option"><input name="q7" type="radio" value="ins"/>ins</label>
</div>
</div>
</div>
<div class="question-block" data-blank="8">
<div><strong>8.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q8" type="radio" value="geöffnet"/>geöffnet</label>
<label class="option"><input name="q8" type="radio" value="öffnen"/>öffnen</label>
<label class="option"><input name="q8" type="radio" value="öffnet"/>öffnet</label>
</div>
</div>
</div>
<div class="question-block" data-blank="9">
<div><strong>9.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q9" type="radio" value="Problem"/>Problem</label>
<label class="option"><input name="q9" type="radio" value="Probleme"/>Probleme</label>
<label class="option"><input name="q9" type="radio" value="Problemen"/>Problemen</label>
</div>
</div>
</div>
<div class="question-block" data-blank="10">
<div><strong>10.</strong></div>
<div class="row-container">
<div class="options">
<label class="option"><input name="q10" type="radio" value="er"/>er</label>
<label class="option"><input name="q10" type="radio" value="man"/>man</label>
<label class="option"><input name="q10" type="radio" value="wir"/>wir</label>
</div>
</div>
</div>
</div>
</div>
<div class="button-wrapper">
<button id="checkBtn">Antworten prüfen</button>
<button id="resetBtn">Zurücksetzen</button>
<a href="/index1" id="homeBtn">Zurück zur Startseite</a>
</div>
<script>
  const correctAnswers = {
    1: "Ihrem",
    2: "war",
    3: "hat",
    4: "Bis",
    5: "den",
    6: "die",
    7: "im",
    8: "geöffnet",
    9: "Probleme",
    10: "man"
  };

  document.querySelectorAll('.option input[type="radio"]').forEach(input => {
    input.addEventListener('change', (e) => {
      const label = e.target.closest('label');
      const block = e.target.closest('.question-block');
      const blankId = block.getAttribute('data-blank');
      const blank = document.getElementById('blank' + blankId);

      block.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
      label.classList.add('selected');
      blank.textContent = e.target.value;
    });
  });

  document.getElementById("checkBtn").addEventListener("click", () => {
    document.querySelectorAll('.question-block').forEach(block => {
      const blankId = block.getAttribute('data-blank');
      const selectedInput = block.querySelector('input[type="radio"]:checked');
      const options = block.querySelectorAll('.option');

      options.forEach(opt => opt.classList.remove('correct', 'incorrect'));

      if (selectedInput) {
        const value = selectedInput.value;
        const label = selectedInput.closest('.option');

        if (value === correctAnswers[blankId]) {
          label.classList.add('correct');
        } else {
          label.classList.add('incorrect');

          // Show correct answer
          options.forEach(opt => {
            if (opt.textContent.trim() === correctAnswers[blankId]) {
              opt.classList.add('correct');
            }
          });
        }
      }
    });
  });
  document.getElementById("resetBtn").addEventListener("click", () => {
  // Reset selected radio buttons
  document.querySelectorAll('input[type="radio"]').forEach(input => {
    input.checked = false;
  });

  // Reset blank text to their number
  for (let i = 1; i <= 10; i++) {
    const blank = document.getElementById('blank' + i);
    if (blank) blank.textContent = i;
  }

  // Remove selection and feedback classes
  document.querySelectorAll('.option').forEach(option => {
    option.classList.remove('selected', 'correct', 'incorrect');
  });
});
</script>
<script>
let pingTimeout;
let logoutTimer;
const INACTIVITY_LIMIT = 6 * 60 * 1000; // 6 minutes

function sendPing() {
    fetch("/ping").catch(() => {});
}

// Reset timers when user interacts
function resetTimers() {
    clearTimeout(pingTimeout);
    clearTimeout(logoutTimer);

    // Ping immediately and schedule another one in 1 min if idle
    sendPing();
    pingTimeout = setTimeout(sendPing, 60 * 1000);

    // Auto logout after 6 min inactivity
    logoutTimer = setTimeout(() => {
        fetch("/logout", { method: "POST" })
          .then(() => window.location.href = "/"); // redirect to homepage/login
    }, INACTIVITY_LIMIT);
}

// Events that count as activity
["mousemove", "keydown", "scroll", "click", "touchstart"].forEach(evt => {
    document.addEventListener(evt, resetTimers);
});

// Start timers when page loads
resetTimers();
</script>
</body></html>